version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "ğŸš€ Starting TrafficFlou Amplify Build..."
        - python --version
        - pip --version
        - pip install -r requirements.txt
        - pip install uvicorn fastapi jinja2 pydantic websockets
    build:
      commands:
        - echo "ğŸ—ï¸ Building TrafficFlou Primal Genesis Web Interface..."
        - python -c "import sys; print('Python path:', sys.path)"
        - echo "ğŸ”§ Setting up environment..."
        - mkdir -p logs
        - chmod +x start_amplify.py
        - echo "âœ… Build preparation complete"
  artifacts:
    baseDirectory: /
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      - venv/**/*
      - .venv/**/* 